import{d as x,J as E,c as T,H as B,a as d,F as m,C as v,o as c,G as F,b,t as k,q as L,e as N,_ as V}from"./index-5329134a.js";const I={id:"table"},P=["onClick","title"],q={class:"label"},z={key:0,class:"order"},D=["rowspan"];var G=(_=>(_.asc="asc",_.desc="desc",_))(G||{});const H=x({__name:"Table",props:{table:{}},setup(_){const y=_;let i=E([]);y.table.columns.forEach(e=>{e.order&&i.push({id:e.id,order:e.order})});const C=T(()=>{const e=[{columns:[],rows:[],sticky:!0},{columns:[],rows:[]}];let u=[...y.table.rows];return i.length>0&&u.sort((s,f)=>{var l,r;for(let t=0;t<i.length;t++){const a=i[t];let o=(l=s.cells[a.id??""])==null?void 0:l.value,n=(r=f.cells[a.id??""])==null?void 0:r.value;if(a.order==="desc"){const p=o;o=n,n=p}if(typeof o>"u"&&typeof n<"u")return-1;if(typeof o<"u"&&typeof n>"u")return 1;if(typeof o>"u"&&typeof n>"u")continue;if(typeof o=="number"&&typeof n=="number"){const p=o-n;if(p!==0)return p;continue}if(o<n)return-1;if(o>n)return 1}return 0}),y.table.columns.forEach((s,f)=>{var a;const l=s.sticky?0:1;e[l].columns.push({description:s.description,id:s.id,label:s.label,order:(a=i.find(o=>o.id===s.id))==null?void 0:a.order});let r,t;u.forEach((o,n)=>{var w;e[l].rows[n]||e[l].rows.push({cells:[]});let p=(w=o.cells[s.id])==null?void 0:w.label,h=!0;s.mergeable&&(r===p?(t===void 0&&(t=n-1),h=!1,e[l].rows[t].cells[f].rowspan=(e[l].rows[t].cells[f].rowspan??1)+1):t!==void 0&&(t=void 0),r=p),h&&e[l].rows[n].cells.push({label:p})})}),e.filter(s=>s.columns.length>0)});function g(e){const u=i.findIndex(s=>s.id===e.id);if(u!==-1)switch(i[u].order){case"asc":i[u].order="desc";break;default:i.splice(u,1);break}else i.push({id:e.id,order:"asc"})}return(e,u)=>{const s=B("font-awesome-icon");return c(),d("div",I,[(c(!0),d(m,null,v(C.value,(f,l)=>(c(),d("table",{class:F({sticky:f.sticky}),key:l},[b("thead",null,[b("tr",null,[(c(!0),d(m,null,v(f.columns,(r,t)=>(c(),d("th",{onClick:a=>g(r),key:t,title:r.description},[b("div",null,[b("div",q,k(r.label),1),r.order!==void 0?(c(),d("div",z,[L(s,{icon:r.order==="asc"?"fa-angle-down":"fa-angle-up"},null,8,["icon"])])):N("",!0)])],8,P))),128))])]),b("tbody",null,[(c(!0),d(m,null,v(f.rows,(r,t)=>(c(),d("tr",{key:t},[(c(!0),d(m,null,v(r.cells,(a,o)=>(c(),d("td",{key:o,rowspan:a.rowspan},k(a.label??""),9,D))),128))]))),128))])],2))),128))])}}});const O=V(H,[["__scopeId","data-v-c1d7bb5b"]]);export{G as O,O as T};
